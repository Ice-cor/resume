<!DOCTYPE html>
<html lang="zh-Hans">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>我的简历</title>
    <link rel="stylesheet" href="./css/main.css">
    <script src="//at.alicdn.com/t/font_582325_9m7a8ck85154s4i.js"></script>
</head>
<style type="text/css">
</style>

<body>
    <div class="loadingWrap" id="loadingWrap">
        <div class="loading">

        </div>
    </div>
    <div class="topNavbarWrap">
        <div class="topNavbar" id="topNavbar">
            <div class="topNavbar-inner clearfix">
                <a class="logo" href="#" alt="logo" style="float: left; ">
                    <span class="rs">RS</span>
                    <span class="card">card</span>
                </a>
                <nav>
                    <ul class="clearfix menuWrap">
                        <li>
                            <a href="#about">关于</a>
                        </li>
                        <li>
                            <a href="#skill">技能</a>
                        </li>
                        <li>
                            <a href="#protfolio">作品</a>
                            <ul class="subMenu">
                                <li>作品1</li>
                                <li>作品2</li>
                                <li>作品3</li>
                            </ul>
                        </li>
                        <li>
                            <a href="#">博客</a>
                            <ul class="subMenu">
                                <li>博客1</li>
                                <li>博客2</li>
                                <li>博客3</li>
                            </ul>
                        </li>
                        <li>
                            <a href="#">日历</a>
                        </li>
                        <li>
                            <a href="#">联系方式</a>
                        </li>
                        <li>
                            <a href="#">其他</a>
                        </li>
                    </ul>
                </nav>
            </div>

        </div>
        <div class="banner"></div>
    </div>
    <div class="content">
        <div class="container">
            <main id="about" data-x>
                <div class="card-wrap">
                    <div class="card clearfix">
                        <div class="picture">
                            <div class="imgWrap">
                                <img src="./images/me.jpg" alt="头像">
                            </div>

                        </div>
                        <div class="text">
                            <div class="welcome-wrap">
                                <span class="welcome">HELLO</span>
                            </div>

                            <h1 class="myName">钟文钦</h1>
                            <p class="profile-position">前端开发工程师</p>
                            <hr>
                            <ul class="myInfo">
                                <li>
                                    <strong>年龄</strong>
                                    <span>26</span>
                                </li>
                                <li>
                                    <strong>所在城市</strong>
                                    <span>深圳</span>
                                </li>
                                <li>
                                    <strong>邮箱</strong>
                                    <span>zhong0102@qq.com</span>
                                </li>
                                <li>
                                    <strong>手机</strong>
                                    <span>18826495338</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <footer class="media">
                        <!-- <a href="#">
                                    <svg class="icon" aria-hidden="true" style="color: white">
                                        <use xlink:href="#icon-CN_jianshu"></use>
                                    </svg>
                                </a> -->

                        <a href="#">
                            <svg class="icon" aria-hidden="true">
                                <use xlink:href="#icon-github"></use>
                            </svg>
                        </a>
                        <a href="#">
                            <svg class="icon" aria-hidden="true">
                                <use xlink:href="#icon-weixin"></use>
                            </svg>
                        </a>
                        <a href="#">
                            <svg class="icon" aria-hidden="true">
                                <use xlink:href="#icon-blogger"></use>
                            </svg>
                        </a>

                    </footer>
                </div>

                <div class="downBtn-wrap">
                    <a href="" class="downBtn" href="#">下载 PDF 简历</a>
                </div>
                <p class="selfIntroduction">我是钟文钦，前端工程师
                    <br>即使是蝼蚁，也要学会站在巨人的肩膀上眺望远方</p>
            </main>

            <section id="skill" class="skill" data-x>
                <h2 class="skillTitle">技能</h2>
                <ol class="skillBar clearfix">
                    <li>
                        <p>HTML 5 &amp; CSS 3</p>
                        <div class="barLine">
                            <span class="barFill" style="width: 90%;"></span>
                        </div>
                    </li>
                    <li>
                        <p>JavaScript</p>
                        <div class="barLine">
                            <span class="barFill" style="width: 80%;"></span>
                        </div>
                    </li>
                    <li>
                        <p>jQuery</p>
                        <div class="barLine">
                            <span class="barFill" style="width: 60%;"></span>
                        </div>
                    </li>
                    <li>
                        <p>Vue</p>
                        <div class="barLine">
                            <span class="barFill" style="width: 70%;"></span>
                        </div>
                    </li>
                    <li>
                        <p>React</p>
                        <div class="barLine">
                            <span class="barFill" style="width: 60%;"></span>
                        </div>
                    </li>
                    <li>
                        <p>Http</p>
                        <div class="barLine">
                            <span class="barFill" style="width: 50%;"></span>
                        </div>
                    </li>
                </ol>
            </section>
            <section id="protfolio" class="protfolio" data-x>
                <h2>作品集</h2>
                <nav>
                    <ol id="protfolioItems">
                        <li id="protfolio1">所有</li>
                        <li id="protfolio2">框架</li>
                        <li id="protfolio3">原生JS&amp;CSS</li>
                    </ol>
                    <div class="filter-bar" id="line">
                        <span class="filter-bar-line change"></span>
                    </div>
                </nav>
                <script>
                    protfolio1.onclick = function () {
                        line.className = 'filter-bar filter-bar1'
                    }
                    protfolio2.onclick = function () {
                        line.className = 'filter-bar filter-bar2'
                    }
                    protfolio3.onclick = function () {
                        line.className = 'filter-bar filter-bar3'
                    }
                </script>
                <div class="jobs clearfix">
                    <div class="big clearfix">
                        <img src="./images/big.jpg" alt="大图1">
                    </div>
                    <div class="smaller clearfix">
                        <div class="small">
                            <img src="./images/small1.jpg" alt="小图1">
                        </div>
                        <div class="small">
                            <img src="./images/small2.jpg" alt="小图2">
                        </div>
                    </div>
                </div>
            </section>
            <section id="protfolio22" class="protfolio">
                <h2>作品集</h2>
                <nav>
                    <ol id="protfolioItems">
                        <li id="protfolio1">所有</li>
                        <li id="protfolio2">框架</li>
                        <li id="protfolio3">原生JS&amp;CSS</li>
                    </ol>
                    <div class="filter-bar" id="line">
                        <span class="filter-bar-line change"></span>
                    </div>
                </nav>
                <div class="jobs">
                    <div class="big">
                        <img src="./images/big.jpg" alt="大图1">
                    </div>
                    <div class="smaller clearfix">
                        <div class="small">
                            <img src="./images/small1.jpg" alt="小图1">
                        </div>
                        <div class="small">
                            <img src="./images/small2.jpg" alt="小图2">
                        </div>
                    </div>
                </div>
            </section>
        </div>

    </div>


</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.1.1/Tween.min.js"></script>
<script>
    loading()

    slideMenu()



    /************工具函数**************/

    function loading() {
        let loadingWrap = document.getElementById('loadingWrap')
        setTimeout(function () {
            loadingWrap.classList.add('active')
        }, 100)

    } //页面加载效果


    function slideMenu() {
        let liTags = document.querySelectorAll('.menuWrap>li')
        let aTags = document.querySelectorAll('.menuWrap>li>a')

        // Setup the animation loop.
        function animate(time) {
            requestAnimationFrame(animate);
            TWEEN.update(time);
        }
        requestAnimationFrame(animate);


        for (let i = 0; i < aTags.length; i++) {
            aTags[i].onclick = function (e) {
                e.preventDefault()
                let a = e.currentTarget
                let id = a.getAttribute('href') //获取#x
                let pageTag = document.querySelector(id)
                let top = pageTag.offsetTop

                let currentTop = window.scrollY //当前页面位置
                let distance = top - currentTop //路程
                let coords = {
                    y: currentTop
                } //开始位置
                // console.log(currentTop,distance)
                let tween = new TWEEN.Tween(coords)
                    .to({
                        y: top + 50
                    }, 500) //结束位置
                    .easing(TWEEN.Easing.Quadratic.Out)
                    .onUpdate(function () {
                        window.scrollTo(0, coords.y)
                    })
                    .start();
            }
        } //页面缓动效果



        for (let i = 0; i < liTags.length; i++) {
            liTags[i].addEventListener('mouseenter', onmouseenter)
            liTags[i].addEventListener('mouseleave', onmouseleave)

        } //hover显示效果

        let pageTags = document.querySelectorAll('[data-x]')
        for (let i = 0; i < pageTags.length; i++) {
            pageTags[i].classList.add('offset')
        } //添加offset类

        
        // findClosest()

        window.onscroll = function (e) {
            let topNavbar = document.getElementById('topNavbar')
            if (scrollY > 1) {
                topNavbar.classList.add('navActive')
            } else {
                topNavbar.classList.remove('navActive')
            }
            findClosest()
        } //nav浮现效果及页面上浮效果

        function findClosest() {
            let pageTags = document.querySelectorAll('[data-x]')
            let minOne = 0 //设置当前最小值匹配滚动区域  

            for (let i = 0; i < pageTags.length; i++) {
                let top = pageTags[i].offsetTop
                let height = pageTags[i].offsetTop + pageTags[i].clientHeight

                if (window.scrollY > pageTags[i].offsetTop - 100 && window.scrollY < pageTags[i].offsetTop +
                    pageTags[i].clientHeight - 100) { //当滚动距离元素头部且小于元素尾部的时候，就视为在这个元素区域里面
                    minOne = i
                }
            }
            pageTags[minOne].classList.remove('offset')

            let id = pageTags[minOne].id

            let a = document.querySelector('a[href="#' + id + '"]')
            let li = a.parentNode
            let liAll = li.parentNode.children
            for (let i = 0; i < liAll.length; i++) {
                liAll[i].classList.remove('highLight')
            }
            li.classList.add('highLight')

           
        } //找最近的元素

        function onmouseenter(li) {
            li.currentTarget.classList.add('active')
        }

        function onmouseleave(li) {
            li.currentTarget.classList.remove('active')
        }
    }
</script>

</html>